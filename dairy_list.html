<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>私の日記</title>
    <style>
        body {
        font-family: Arial, sans-serif;
        text-align: center;
        }

        .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        }

        section {
        margin: 10px;
        }

        input[type="text"] {
        width: 200px;
        height: 30px;
        margin-bottom: 10px;
        padding: 5px;
        }

        textarea {
        width: 400px;
        height: 200px;
        margin-bottom: 10px;
        padding: 5px;
        }

        .image-container {
        display: flex;
        justify-content: center;
        margin-bottom: 10px;
        }

        .image-container img {
        width: 200px;
        height: 200px;
        margin: 5px;
        }
        .button-container {
            display: flex;
            justify-content: flex-end;
            margin-left: 10px;
        }
    </style>
    <style>
        .thema-container {
          /*width: 40vw;*/
          /*height: 40vw;*/
          display: inline-block;
          align-items: center;
        }
    </style>
    <style>
        .comment-container {
          width: 40vw;
          height: 40vw;
          display: inline-block;
          align-items: center;
        }
    </style>
    <style>
        .image-container {
          width: 40vw;
          height: 40vw;
          border: 2px solid #ccc;
          display: inline-block;
          align-items: center;
          justify-content: center;
          background-color: #f5f5f5;
          position: relative;
          overflow: hidden;
        }
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
    <!-- カレンダーのカルーセルの付属品 -->
    <style>
        .carousel_helper-container {
        /*width: 40vw;*/
        height: 5vw;
        display: inline-block;
        align-items: center;
        }
    </style>
    <!-- カレンダーのカルーセル -->
    <style>
        /* 共通のスタイル */
        .carousel-container {
            width: 50vw;
            position: relative;
            margin-bottom: 20px;
        }

        .carousel-content {
            width: 100%;
            display: flex;
            overflow: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }
        .carousel-content-d {
            width: 100%;
            display: flex;
            overflow: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }

        .item {
            width: 20px;
            height: 20px;
            border: 1px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin: 10px;
            scroll-snap-align: center;
        }

        .prev-button,
        .next-button {
            /*position: absolute;
            /*top: 50%;*/*/
            transform: translateY(-50%);
            /*background-color: transparent;*/
            /*border: none;*/
            /*font-size: 24px;*/
            /*cursor: pointer;*/
        }

        .prev-button {
            left: 10px;
        }
        .next-button {
            right: 10px;
        }

        /* 3Dカルーセルのスタイル */
        .carousel-container-3d {
            height: 400px;
            perspective: 1000px;
        }
        .carousel-content-3d {
            width: 200%;
            transform-style: preserve-3d;
        }
        .carousel-content-3d > * {
            width: 50%;
            display: inline-block;
            margin: 10px;
            transform: translateZ(-200px);
        }
    </style>
  
    </head>
    <body>
    <!--<section style="height:10vw;">-->
    <h1 style="margin: 5px;">私の日記</h1>
    <hr>
    <div>
        <div class="thema-container">
            <label>日付</label>
            <input type="date" id="dateInput">
        </div>
        <div class="thema-container">
            <label>テーマ</label>
            <input type="text" placeholder="テーマを入力してください" style="height:20px; width:200px;">
        </div>
    </div>
    <div>
        <label>担当者A</label>
        <input type="text" name="nameA" placeholder="" style="height:5px; width:50px;">
        <label>担当者B</label>
        <input type="text" name="nameB" placeholder="" style="height:5px; width:50px;">
    </div>
    <br>
    <div>
        <div class="comment-container">
            <label>日記内容</label>
            <textarea placeholder="日記内容" style="height:80px; width:150px; box-sizing: border-box;"></textarea>
        </div>
        <div class="comment-container">
            <label>コメント</label>
            <textarea placeholder="コメント" style="height:80px; width:150px; box-sizing: border-box;"></textarea>
        </div>
    </div>
    <div>
        <div class="image-container">
            <label>画像1</label>
            <label for="imageInput1">
                <img id="image1" src="../media/images/3.jpg" alt="No Image">
                <div class="placeholder">画像がありません</div>
            </label>
            <input type="file" id="imageInput1" accept=".jpg, .jpeg, .png" onchange="handleImageUpload(1)" style="display: none;">
        </div>
        <div class="image-container">
            <label>画像2</label>
            <label for="imageInput2">
                <img id="image2" src="../media/images/2.jpg" alt="No Image">
                <div class="placeholder">画像がありません</div>
            </label>
            <input type="file" id="imageInput2" accept=".jpg, .jpeg, .png" onchange="handleImageUpload(2)" style="display: none;">
        </div>
    </div>
    <div class="button-container">
        <button>新規登録</button>
        <button>編集</button>
    </div>
    <hr>
    <!-- カレンダーカルーセル -->
    <div style="text-align: left;">
        <label>過去一覧</label>
        <button>今日</button>
    </dev>
    <div style="height:10px; text-align: center;">
        <div class="carousel_helper-container">
            <label>月</label>
        </div>
        <div class="carousel_helper-container">
            <div class="carousel-container">
                <div class="carousel-content">
                    <!-- カレンダーカルーセルが配置される部分 -->
                </div>
            </div>
        </div>
    <div style="height:10px; text-align: center;"> 
        <div class="carousel_helper-container">
            <label>日</label>
        </div>
        <div class="carousel_helper-container">
            <div class="carousel-container">
                <div class="carousel-content-d">
                    <!-- カレンダーカルーセルが配置される部分 -->
                </div>
            </div>
        </div>
    </div>
    rZah6QLQPCz7P
    <script>
        // 現在の日付を取得
        let today = new Date();
        // 年、月、日を取得
        let year = today.getFullYear();
        let month = ("0" + (today.getMonth() + 1)).slice(-2);
        let day = ("0" + today.getDate()).slice(-2);
        // 日付を文字列として組み立て
        let formattedDate = year + "-" + month + "-" + day;
        // 要素に初期値として設定
        document.getElementById("dateInput").value = formattedDate;
    </script>
    <script>
        // 画像のアップロード
        function handleImageUpload(imageNumber) {
          const input = document.getElementById(`imageInput${imageNumber}`);
          const file = input.files[0];
      
          const reader = new FileReader();
          reader.onload = function(e) {
            const image = document.getElementById(`image${imageNumber}`);
            image.src = e.target.result;
          };
      
          if (file) {
            reader.readAsDataURL(file);
          }
        }
    </script>

    <!-- カレンダーのカルーセル 月 -->
    <script>
        const carouselContent = document.querySelector('.carousel-content');
        //const prevButton = document.querySelector('.prev-button');
        //const nextButton = document.querySelector('.next-button');

        const itemCount = 12; // 表示する数字の個数

        // 数字の要素を動的に生成
        for (let i = 1; i <= itemCount; i++) {
            const button = document.createElement('button'); // ボタン要素に変更
            button.classList.add('item'); // item クラスを追加
            button.textContent = i;
            carouselContent.appendChild(button);

            button.addEventListener('click', () => {
                console.log("ぼたんだよ");
            });
        }

        let currentPosition = 0;
        const itemWidth = document.querySelector('.item').offsetWidth; // 数字の要素の幅
        const itemCountDisplayed = Math.floor(carouselContent.offsetWidth / itemWidth); // 表示する要素の個数
        
        // カルーセル機能
        prevButton.addEventListener('click', () => {
            currentPosition += itemWidth * itemCountDisplayed;
            if (currentPosition > 0) {
            currentPosition = -itemWidth * (itemCount - itemCountDisplayed);
            }
            carouselContent.style.transform = `translateX(${currentPosition}px)`;
        });

        nextButton.addEventListener('click', () => {
            currentPosition -= itemWidth * itemCountDisplayed;
            if (currentPosition < -itemWidth * (itemCount - itemCountDisplayed)) {
            currentPosition = 0;
            }
            carouselContent.style.transform = `translateX(${currentPosition}px)`;
        });
    </script>

    <!-- カレンダーのカルーセル 日 -->
    <script>
        const carouselContent_d = document.querySelector('.carousel-content-d');
        //const prevButton_d = document.querySelector('.prev-button');
        //const nextButton_d = document.querySelector('.next-button');

        const itemCount_d = 31; // 表示する数字の個数

        // 数字の要素を動的に生成
        for (let i = 1; i <= itemCount_d; i++) {
            const button = document.createElement('button'); // ボタン要素に変更
            button.classList.add('item'); // item クラスを追加
            button.textContent = i;
            carouselContent_d.appendChild(button);

            button.addEventListener('click', () => {
                console.log("ぼたんだよ");
            });
        }

        let currentPosition_d = 0;
        const itemWidth_d = document.querySelector('.item').offsetWidth; // 数字の要素の幅
        const itemCountDisplayed_d = Math.floor(carouselContent_d.offsetWidth / itemWidth); // 表示する要素の個数
        
        // カルーセル機能
        prevButton.addEventListener('click', () => {
            currentPosition += itemWidth * itemCountDisplayed_d;
            if (currentPosition > 0) {
            currentPosition = -itemWidth * (itemCount_d - itemCountDisplayed_d);
            }
            carouselContent_d.style.transform = `translateX(${currentPosition}px)`;
        });

        nextButton.addEventListener('click', () => {
            currentPosition -= itemWidth * itemCountDisplayed_d;
            if (currentPosition < -itemWidth * (itemCount_d - itemCountDisplayed_d)) {
            currentPosition = 0;
            }
            carouselContent_d.style.transform = `translateX(${currentPosition}px)`;
        });
    </script>
</body>
</html>
